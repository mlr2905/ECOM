<!DOCTYPE html>
<html>
<head>
  <title>Car Data Form</title>
  <script src="Car.js"></script>
  <style>
    .form-container {
      display: flex;
    }
    .form-group {
      margin-bottom: 20px;
    }
    .form-group label {
      display: block;
      margin-bottom: 5px;
    }
    .form-group input, select {
      width: 200px;
    }
    #displayDiv {
      padding: 10px;
      border: 1px solid #ddd;
      margin-bottom: 20px;
      flex-grow: 1;
    }
    #carImageContainer {
      margin-left: 20px;
    }
    #carImage {
      width: 400px;
      margin-top: 20px;
    }
  </style>
  <script>
    function create_car(car_brand , car_model, car_year, car_color, car_mileage) {
        const new_car = {
                brand: car_brand,
                model: car_model,
                year: car_year,
                color: car_color,
                mileage: car_mileage
            }
            
        new_car.brand = car_brand

        return new_car
    }

    //const car = create_car('', '', 0, '', 0)

    const car = new Car('', '', 0, '', 0)

    function print_car_object() {
        let displayDiv = document.getElementById("displayDiv");
        displayDiv.innerHTML = `
        <p>Brand: ${car.brand}</p>
        <p>Model: ${car.model}</p>
        <p>Year: ${car.year}</p>
        <p>Color: ${car.color}</p>
        <p>Mileage: ${car.mileage}</p>
      `;
    }

    function change_car_brand(modified_brand) {
        car.brand = modified_brand;
    }

    function get_data_from_user_input() {
        // car.brand = ...
        car.set_brand(document.getElementById("brand").value)
        car.set_model(document.getElementById("model").value);
        car.set_year(parseInt(document.getElementById("year").value));
        car.set_color(document.getElementById("color").value);
        car.set_mileage(parseInt(document.getElementById("mileage").value));
    }
    
    function displayValues() {
        get_data_from_user_input()

        console.log(car);
        
        print_car_object()
    }
    
    // run this code only after the page was loaded ...
    document.addEventListener("DOMContentLoaded", () => {

        print_car_object()
        
        // document.getElementById("brand").addEventListener("input", displayValues);
        // document.getElementById("model").addEventListener("input", displayValues);
        // document.getElementById("year").addEventListener("input", displayValues);
        // document.getElementById("color").addEventListener("input", displayValues);
        // document.getElementById("mileage").addEventListener("input", displayValues);
        
        const formElements = document.querySelectorAll(".form-group input, .form-group select");
        formElements.forEach((element) => {
            element.addEventListener("input", displayValues);
        });
    });
  </script>
</head>
<body>
  <div class="form-container">
    <div>
      <form>
        <div class="form-group">
          <label for="brand">Brand:</label>
          <input type="text" id="brand">
        </div>
        <div class="form-group">
          <label for="model">Model:</label>
          <input type="text" id="model">
        </div>
        <div class="form-group">
          <label for="year">Year:</label>
          <input type="text" id="year">
        </div>
        <div class="form-group"> 
          <label for="color">Color:</label>
          <select id="color">
            <option>[Select]</option>
            <option value="Red">Red</option>
            <option value="Blue">Blue</option>
            <option value="Green">Green</option>
            <option value="Green">White</option>
          </select>
        </div>
        <div class="form-group">
          <label for="mileage">KM:</label>
          <input type="text" id="mileage">
        </div>
      </form>
      <div id="displayDiv"></div>
    </div>
    <div id="carImageContainer">
      <img id="carImage" src="./car1.jpg" alt="Default Car Image">
    </div>
  </div>
</body>
</html>